{
    "id": "a1_observatory_right",
    "background": "a1_observatory_right/background.png",
    "mask": "a1_observatory_right/zones.png",
    "zones": [
        {
            "color": "#FF0000",
            "cursor": "w-resize",
            "actions": [
                {
                    "goto": "a1_observatory_middle"
                }
            ]
        },
        {
            "color": "#0000FF",
            "actions": [
                {
                    "conditions": {
                        "hasFlagsNot": "placed_empty_whisky"
                    },
                    "say": "Polica s krúžkom"
                },
                {
                    "conditions": {
                        "hasFlags": "placed_empty_whisky"
                    },
                    "giveItem": "empty_whisky",
                    "unsetFlag": "placed_empty_whisky"
                },
                {
                    "trigger": "empty_whisky",
                    "takeItem": "empty_whisky",
                    "setFlag": "placed_empty_whisky"
                },
                {
                    "trigger": "$FALLBACK",
                    "say": "To sa sem podľa mňa nehodí."
                }
            ]
        },
        {
            "color": "#FF00FF",
            "actions": [
                {
                    "conditions": {
                        "hasFlagsNot": "placed_banana"
                    },
                    "say": "Polička s mesiacom"
                },
                {
                    "conditions": {
                        "hasFlags": "placed_banana"
                    },
                    "giveItem": "banana",
                    "unsetFlag": "placed_banana"
                },
                {
                    "trigger": "banana",
                    "takeItem": "banana",
                    "setFlag": "placed_banana"
                },
                {
                    "trigger": "quarter_potion",
                    "say": "Kiež by sa to dalo otočiť."
                },
                {
                    "trigger": "$FALLBACK",
                    "say": "To sa sem podľa mňa nehodí."
                }
            ]
        },
        {
            "color": "#FFFF00",
            "actions": [
                {
                    "conditions": {
                        "hasFlagsNot": "placed_full_whisky"
                    },
                    "say": "Polička s krúžkom"
                },
                {
                    "conditions": {
                        "hasFlags": "placed_full_whisky",
                        "hasItemNot": "full_whisky_a"
                    },
                    "giveItem": "full_whisky_a",
                    "unsetFlag": "placed_full_whisky"
                },
                {
                    "conditions": {
                        "hasFlags": "placed_full_whisky",
                        "hasItemNot": "full_whisky_b"
                    },
                    "giveItem": "full_whisky_b",
                    "unsetFlag": "placed_full_whisky"
                },
                {
                    "trigger": "full_whisky_a",
                    "takeItem": "full_whisky_a",
                    "setFlag": "placed_full_whisky"
                },
                {
                    "trigger": "full_whisky_b",
                    "takeItem": "full_whisky_b",
                    "setFlag": "placed_full_whisky"
                },
                {
                    "trigger": "$FALLBACK",
                    "say": "To sa sem podľa mňa nehodí."
                }
            ]
        },
        {
            "color": "#00FFFF",
            "actions": [
                {
                    "conditions": {
                        "hasFlagsNot": "placed_quarter_potion"
                    },
                    "say": "Polička s mesiacom"
                },
                {
                    "conditions": {
                        "hasFlags": "placed_quarter_potion"
                    },
                    "giveItem": "quarter_potion",
                    "unsetFlag": "placed_quarter_potion"
                },
                {
                    "trigger": "quarter_potion",
                    "takeItem": "quarter_potion",
                    "setFlag": "placed_quarter_potion"
                },
                {
                    "trigger": "banana",
                    "say": "Kiež by sa ten banán dal otočiť."
                },
                {
                    "trigger": "$FALLBACK",
                    "say": "To sa sem podľa mňa nehodí."
                }
            ]
        },
        {
            "color": "#808080",
            "actions": [
                {
                    "conditions": {
                        "hasFlagsNot": "dud_talk"
                    },
                    "say": "Mikuláš: Vitaj v observátoriu. Konečne mám spoločnosť. Máme najvýkonnejší a zároveň jediný teleskop na našej planéte.",
                    "setFlag": "dud_talk"
                },
                {
                    "conditions": {
                        "hasFlags": "dud_talk"
                    },
                    "say": "Mikuláš: Čo tak pozrieť teleskop? Bolo tam niečo zaujímavé?"
                },
                {
                    "conditions": {
                        "hasFlags": "dud_talk"
                    },
                    "say": "Mikuláš: Toto observatórium bolo vybudované v roku 1842 na príkaz kráľa Leopolda. Všetok stavebný materiál bol vyťažený v blízkych horách."
                },
                {
                    "conditions": {
                        "hasFlags": "dud_talk,seen_comet"
                    },
                    "say": "Mikuláš: Kométa? To neveští nič dobré."
                },
                {
                    "conditions": {
                        "hasFlags": "dud_talk,seen_comet"
                    },
                    "say": "Mikuláš: Daj mi niečo jesť."
                },
                {
                    "conditions": {
                        "hasFlags": "dud_talk,seen_comet"
                    },
                    "say": "Mikuláš: Pri dverách mám peknú poličku, ale zatiaľ som si tam nič neuložil."
                },
                {
                    "trigger": "full_whisky_a",
                    "say": "Mikuláš: Ďakujem, nepijem."
                },
                {
                    "trigger": "full_whisky_b",
                    "say": "Mikuláš: Ďakujem, nepijem."
                },
                {
                    "trigger": "banana",
                    "say": "Mikuláš: Banány nemám rád."
                },
                {
                    "trigger": "$FALLBACK",
                    "say": "Mikuláš: Toto si radšej nechaj."
                },

                {
                    "trigger": "downberry",
                    "conditions": {
                        "hasFlags": "beam_active"
                    },
                    "say": "Posúvať sa so zapnutým lúčom by bolo nebezpečné."
                },
                {
                    "trigger": "upberry",
                    "conditions": {
                        "hasFlags": "beam_active"
                    },
                    "say": "Posúvať sa so zapnutým lúčom by bolo nebezpečné."
                },
                {
                    "trigger": "downberry",
                    "conditions": {
                        "hasFlags": "dud_level_1",
                        "hasFlagsNot": "beam_active"
                    },
                    "unsetFlag": "dud_level_1",
                    "setFlag": "dud_level_2"
                },
                {
                    "trigger": "downberry",
                    "conditions": {
                        "hasFlags": "dud_level_2",
                        "hasFlagsNot": "beam_active"
                    },
                    "unsetFlag": "dud_level_2",
                    "setFlag": "dud_level_3"
                },
                {
                    "trigger": "downberry",
                    "conditions": {
                        "hasFlags": "dud_level_3",
                        "hasFlagsNot": "beam_active"
                    },
                    "unsetFlag": "dud_level_3",
                    "setFlag": "dud_level_4"
                },
                {
                    "trigger": "upberry",
                    "conditions": {
                        "hasFlags": "dud_level_4",
                        "hasFlagsNot": "beam_active"
                    },
                    "unsetFlag": "dud_level_4",
                    "setFlag": "dud_level_3"
                },
                {
                    "trigger": "upberry",
                    "conditions": {
                        "hasFlags": "dud_level_3",
                        "hasFlagsNot": "beam_active"
                    },
                    "unsetFlag": "dud_level_3",
                    "setFlag": "dud_level_2"
                },
                {
                    "trigger": "upberry",
                    "conditions": {
                        "hasFlags": "dud_level_2",
                        "hasFlagsNot": "beam_active"
                    },
                    "unsetFlag": "dud_level_2",
                    "setFlag": "dud_level_1"
                },
                {
                    "trigger": "zapberry",
                    "flipFlag": "beam_active"
                }
            ]
        },
        {
            "color": "#00FF00",
            "cursor": "door-right",
            "actions": [
                {
                    "conditions": {
                        "hasFlags": "placed_empty_whisky,placed_banana,placed_full_whisky,placed_quarter_potion,dud_level_2,beam_active,seen_comet"
                    },
                    "goto": "a0_observatory_exterior"
                },
                {
                    "conditions": {
                        "hasFlags": "placed_empty_whisky,placed_banana,placed_full_whisky,placed_quarter_potion,dud_level_2,beam_active",
                        "hasFlagsNot": "seen_comet"
                    },
                    "say": "Mikuláš: Ešte sa skús pozrieť lepšie cez teleskop. Možno tam bude niečo zaujímavé."
                },
                {
                    "conditions": {
                        "hasFlagsNot": "placed_empty_whisky,placed_banana,placed_full_whisky,placed_quarter_potion,dud_level_2,beam_active"
                    },
                    "say": "Dvere sú zamknuté."
                }
            ]
        }
    ],
    "overlays": [
        {
            "image": "a1_observatory_right/placed_empty_whisky.png",
            "conditions": {
                "hasFlags": "placed_empty_whisky"
            }
        },
        {
            "image": "a1_observatory_right/placed_banana.png",
            "conditions": {
                "hasFlags": "placed_banana"
            }
        },
        {
            "image": "a1_observatory_right/placed_full_whisky.png",
            "conditions": {
                "hasFlags": "placed_full_whisky"
            }
        },
        {
            "image": "a1_observatory_right/placed_quarter_potion.png",
            "conditions": {
                "hasFlags": "placed_quarter_potion"
            }
        },

        {
            "image": "a1_observatory_right/dud4.png",
            "conditions": {
                "hasFlags": "dud_level_4"
            }
        },
        {
            "image": "a1_observatory_right/dud3.png",
            "conditions": {
                "hasFlags": "dud_level_3"
            }
        },
        {
            "image": "a1_observatory_right/dud2.png",
            "conditions": {
                "hasFlags": "dud_level_2"
            }
        },
        {
            "image": "a1_observatory_right/dud1.png",
            "conditions": {
                "hasFlags": "dud_level_1"
            }
        },

        {
            "image": "a1_observatory_right/beam4.png",
            "conditions": {
                "hasFlags": "dud_level_4,beam_active"
            }
        },
        {
            "image": "a1_observatory_right/beam3.png",
            "conditions": {
                "hasFlags": "dud_level_3,beam_active"
            }
        },
        {
            "image": "a1_observatory_right/beam2.png",
            "conditions": {
                "hasFlags": "dud_level_2,beam_active"
            }
        },
        {
            "image": "a1_observatory_right/beam1.png",
            "conditions": {
                "hasFlags": "dud_level_1,beam_active"
            }
        },
        {
            "image": "a1_observatory_right/open_door.png",
            "conditions": {
                "hasFlags": "placed_empty_whisky,placed_banana,placed_full_whisky,placed_quarter_potion,dud_level_2,beam_active,seen_comet"
            }
        }

    ]
}