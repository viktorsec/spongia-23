{
    "initial": {
        "room": "spawn",
        "flags": {
            "dud_level_3": true
        }
    },
    "items": {
        "important_key": "important_key.png",
        "upberry": "upberry.png",
        "downberry": "downberry.png",
        "zapberry": "zapberry.png",
        "banana": "banana.png",
        "quarter_potion": "quarter_potion.png",
        "full_whisky_a": "full_whisky.png",
        "full_whisky_b": "full_whisky.png",
        "empty_whisky": "empty_whisky.png"
    },
    "rooms": {
        "spawn": {
            "background": "spawn/background.png",
            "zones": "spawn/zones.png",
            "objects": {
                "important_key": {
                    "image": "spawn/important_key.png",
                    "actions": [
                        {
                            "giveItem": "important_key",
                            "removeObject": "important_key",
                            "say": "Toto budem potrebovat!"
                        }
                    ]
                }
            },
            "actions": [
                {
                    "trigger": "#FF0000",
                    "say": "Velka rastlina"
                },
                {
                    "trigger": "#00FF00",
                    "say": "Hniezdo"
                },
                {
                    "trigger": "#0000FF",
                    "goto": "observatory_middle"
                }
            ]
        },
        "observatory_middle": {
            "background": "observatory_middle/background.png",
            "zones": "observatory_middle/zones.png",
            "actions": [
                {
                    "trigger": "#FF0000",
                    "goto": "observatory_left"
                },
                {
                    "trigger": "#00FF00",
                    "goto": "observatory_right"
                },
                {
                    "trigger": "#0000FF",
                    "goto": "spawn"
                },
                {
                    "trigger": "#FF00FF",
                    "goto": "observatory_kitchen"
                }
            ]
        },
        "observatory_left": {
            "background": "observatory_left/background.png",
            "zones": "observatory_left/zones.png",
            "objects": {
                "full_whisky_b": {
                    "image": "observatory_left/full_whisky_b.png",
                    "actions": [
                        {
                            "giveItem": "full_whisky_b",
                            "removeObject": "full_whisky_b"
                        }
                    ]
                }
            },
            "actions": [
                {
                    "trigger": "#FF0000",
                    "goto": "observatory_middle"
                },
                {
                    "trigger": "#00FF00",
                    "goto": "telescope_empty"
                }
            ]
        },
        "observatory_right": {
            "background": "observatory_right/background.png",
            "zones": "observatory_right/zones.png",
            "objects": {
                "banana": {
                    "image": "observatory_right/placed_banana.png",
                    "guards": [
                        {
                            "flagTrue": "placed_banana"
                        }
                    ],
                    "actions": [
                        {
                            "say": "Hmm banan naozaj vyzera ako mesiac."
                        }
                    ]
                },
                "quarter_potion": {
                    "image": "observatory_right/placed_quarter_potion.png",
                    "guards": [
                        {
                            "flagTrue": "placed_quarter_potion"
                        }
                    ]
                },
                "full_whisky": {
                    "image": "observatory_right/placed_full_whisky.png",
                    "guards": [
                        {
                            "flagTrue": "placed_full_whisky"
                        }
                    ]
                },
                "empty_whisky": {
                    "image": "observatory_right/placed_empty_whisky.png",
                    "guards": [
                        {
                            "flagTrue": "placed_empty_whisky"
                        }
                    ]
                },
                "dud1": {
                    "image": "observatory_right/dud1.png",
                    "guards": [
                        {
                            "flagTrue": "dud_level_1"
                        }
                    ],
                    "actions": [
                        {
                            "say": "To je dud"
                        },
                        {
                            "item": "upberry",
                            "guards": [
                                {
                                    "flagTrue": "beam_active"
                                }
                            ],
                            "say": "Posuvat zapnuty laser je moc nebezpecne"
                        },
                        {
                            "item": "downberry",
                            "guards": [
                                {
                                    "flagTrue": "beam_active"
                                }
                            ],
                            "say": "Posuvat zapnuty laser je moc nebezpecne"
                        },
                        {
                            "item": "upberry",
                            "guards": [
                                {
                                    "flagFalse": "beam_active"
                                }
                            ],
                            "say": "Vyssie sa neda"
                        },
                        {
                            "item": "downberry",
                            "guards": [
                                {
                                    "flagFalse": "beam_active"
                                }
                            ],
                            "setFlag": "dud_level_2",
                            "unsetFlag": "dud_level_1"
                        },
                        {
                            "item": "zapberry",
                            "flipFlag": "beam_active"
                        }
                    ]
                },
                "dud2": {
                    "image": "observatory_right/dud2.png",
                    "guards": [
                        {
                            "flagTrue": "dud_level_2"
                        }
                    ],
                    "actions": [
                        {
                            "say": "To je dud"
                        },
                        {
                            "item": "upberry",
                            "guards": [
                                {
                                    "flagTrue": "beam_active"
                                }
                            ],
                            "say": "Posuvat zapnuty laser je moc nebezpecne"
                        },
                        {
                            "item": "downberry",
                            "guards": [
                                {
                                    "flagTrue": "beam_active"
                                }
                            ],
                            "say": "Posuvat zapnuty laser je moc nebezpecne"
                        },
                        {
                            "item": "upberry",
                            "guards": [
                                {
                                    "flagFalse": "beam_active"
                                }
                            ],
                            "setFlag": "dud_level_1",
                            "unsetFlag": "dud_level_2"
                        },
                        {
                            "item": "downberry",
                            "guards": [
                                {
                                    "flagFalse": "beam_active"
                                }
                            ],
                            "setFlag": "dud_level_3",
                            "unsetFlag": "dud_level_2"
                        },
                        {
                            "item": "zapberry",
                            "flipFlag": "beam_active"
                        }
                    ]
                },
                "dud3": {
                    "image": "observatory_right/dud3.png",
                    "guards": [
                        {
                            "flagTrue": "dud_level_3"
                        }
                    ],
                    "actions": [
                        {
                            "say": "To je dud"
                        },
                        {
                            "item": "upberry",
                            "guards": [
                                {
                                    "flagTrue": "beam_active"
                                }
                            ],
                            "say": "Posuvat zapnuty laser je moc nebezpecne"
                        },
                        {
                            "item": "downberry",
                            "guards": [
                                {
                                    "flagTrue": "beam_active"
                                }
                            ],
                            "say": "Posuvat zapnuty laser je moc nebezpecne"
                        },
                        {
                            "item": "upberry",
                            "guards": [
                                {
                                    "flagFalse": "beam_active"
                                }
                            ],
                            "setFlag": "dud_level_2",
                            "unsetFlag": "dud_level_3"
                        },
                        {
                            "item": "downberry",
                            "guards": [
                                {
                                    "flagFalse": "beam_active"
                                }
                            ],
                            "setFlag": "dud_level_4",
                            "unsetFlag": "dud_level_3"
                        },
                        {
                            "item": "zapberry",
                            "flipFlag": "beam_active"
                        }
                    ]
                },
                "dud4": {
                    "image": "observatory_right/dud4.png",
                    "guards": [
                        {
                            "flagTrue": "dud_level_4"
                        }
                    ],
                    "actions": [
                        {
                            "say": "To je dud"
                        },
                        {
                            "item": "upberry",
                            "guards": [
                                {
                                    "flagTrue": "beam_active"
                                }
                            ],
                            "say": "Posuvat zapnuty laser je moc nebezpecne"
                        },
                        {
                            "item": "downberry",
                            "guards": [
                                {
                                    "flagTrue": "beam_active"
                                }
                            ],
                            "say": "Posuvat zapnuty laser je moc nebezpecne"
                        },
                        {
                            "item": "upberry",
                            "guards": [
                                {
                                    "flagFalse": "beam_active"
                                }
                            ],
                            "setFlag": "dud_level_3",
                            "unsetFlag": "dud_level_4"
                        },
                        {
                            "item": "downberry",
                            "guards": [
                                {
                                    "flagFalse": "beam_active"
                                }
                            ],
                            "say": "Nizsie sa neda"
                        },
                        {
                            "item": "zapberry",
                            "flipFlag": "beam_active"
                        }
                    ]
                },
                "beam1": {
                    "image": "observatory_right/beam1.png",
                    "guards": [
                        {
                            "flagTrue": "dud_level_1"
                        },
                        {
                            "flagTrue": "beam_active"
                        }
                    ],
                    "actions": [
                        {
                            "say": "Pew pew pew!"
                        }
                    ]
                },
                "beam2": {
                    "image": "observatory_right/beam2.png",
                    "guards": [
                        {
                            "flagTrue": "dud_level_2"
                        },
                        {
                            "flagTrue": "beam_active"
                        }
                    ],
                    "actions": [
                        {
                            "say": "Pew pew pew!"
                        }
                    ]
                },
                "beam3": {
                    "image": "observatory_right/beam3.png",
                    "guards": [
                        {
                            "flagTrue": "dud_level_3"
                        },
                        {
                            "flagTrue": "beam_active"
                        }
                    ],
                    "actions": [
                        {
                            "say": "Pew pew pew!"
                        }
                    ]
                },
                "beam4": {
                    "image": "observatory_right/beam4.png",
                    "guards": [
                        {
                            "flagTrue": "dud_level_4"
                        },
                        {
                            "flagTrue": "beam_active"
                        }
                    ],
                    "actions": [
                        {
                            "say": "Pew pew pew!"
                        }
                    ]
                }
            },
            "actions": [
                {
                    "trigger": "#FF0000",
                    "goto": "observatory_middle"
                },
                {
                    "trigger": "#00FF00",
                    "guards": [
                        {
                            "flagTrue": "placed_empty_whisky"
                        },
                        {
                            "flagTrue": "placed_banana"
                        },
                        {
                            "flagTrue": "placed_full_whisky"
                        },
                        {
                            "flagTrue": "placed_quarter_potion"
                        },
                        {
                            "flagTrue": "dud_level_2"
                        },
                        {
                            "flagTrue": "beam_active"
                        },
                        {
                            "flagTrue": "seen_comet"
                        }
                    ],
                    "goto": "observatory_exterior"
                },
                {
                    "trigger": "#00FF00",
                    "guards": [
                        {
                            "flagTrue": "placed_empty_whisky"
                        },
                        {
                            "flagTrue": "placed_banana"
                        },
                        {
                            "flagTrue": "placed_full_whisky"
                        },
                        {
                            "flagTrue": "placed_quarter_potion"
                        },
                        {
                            "flagTrue": "dud_level_2"
                        },
                        {
                            "flagTrue": "beam_active"
                        }
                    ],
                    "say": "Mozno som sa nepozrel cez teleskop poriadne"
                },
                {
                    "trigger": "#00FF00",
                    "say": "Dvere su zamknute"
                },
                {
                    "trigger": "#0000FF",
                    "guards": [
                        {
                            "flagFalse": "placed_empty_whisky"
                        }
                    ],
                    "say": "Policka s obrazkom faze mesiaca"
                },
                {
                    "trigger": "#0000FF",
                    "item": "empty_whisky",
                    "guards": [
                        {
                            "flagFalse": "placed_empty_whisky"
                        }
                    ],
                    "setFlag": "placed_empty_whisky",
                    "takeItem": "empty_whisky"
                },
                {
                    "trigger": "#FF00FF",
                    "guards": [
                        {
                            "flagFalse": "placed_banana"
                        }
                    ],
                    "say": "Policka s obrazkom faze mesiaca"
                },
                {
                    "trigger": "#FF00FF",
                    "item": "banana",
                    "guards": [
                        {
                            "flagFalse": "placed_banana"
                        }
                    ],
                    "setFlag": "placed_banana",
                    "takeItem": "banana"
                },
                {
                    "trigger": "#FFFF00",
                    "guards": [
                        {
                            "flagFalse": "placed_full_whisky"
                        }
                    ],
                    "say": "Policka s obrazkom faze mesiaca"
                },
                {
                    "trigger": "#FFFF00",
                    "item": "full_whisky_a",
                    "guards": [
                        {
                            "flagFalse": "placed_full_whisky"
                        }
                    ],
                    "setFlag": "placed_full_whisky",
                    "takeItem": "full_whisky_a"
                },
                {
                    "trigger": "#FFFF00",
                    "item": "full_whisky_b",
                    "guards": [
                        {
                            "flagFalse": "placed_full_whisky"
                        }
                    ],
                    "setFlag": "placed_full_whisky",
                    "takeItem": "full_whisky_b"
                },
                {
                    "trigger": "#00FFFF",
                    "guards": [
                        {
                            "flagFalse": "placed_quarter_potion"
                        }
                    ],
                    "say": "Policka s obrazkom faze mesiaca"
                },
                {
                    "trigger": "#00FFFF",
                    "item": "quarter_potion",
                    "guards": [
                        {
                            "flagFalse": "placed_quarter_potion"
                        }
                    ],
                    "setFlag": "placed_quarter_potion",
                    "takeItem": "quarter_potion"
                }
            ]
        },
        "observatory_kitchen": {
            "background": "observatory_kitchen/background.png",
            "zones": "observatory_kitchen/zones.png",
            "objects": {
                "banana": {
                    "image": "observatory_kitchen/banana.png",
                    "actions": [
                        {
                            "giveItem": "banana",
                            "removeObject": "banana",
                            "say": "Mnam, banan."
                        }
                    ]
                },
                "downberry": {
                    "image": "observatory_kitchen/downberry.png",
                    "actions": [
                        {
                            "giveItem": "downberry",
                            "removeObject": "downberry"
                        }
                    ]
                },
                "full_whisky_a": {
                    "image": "observatory_kitchen/full_whisky_a.png",
                    "actions": [
                        {
                            "giveItem": "full_whisky_a",
                            "removeObject": "full_whisky_a"
                        }
                    ]
                },
                "quarter_potion": {
                    "image": "observatory_kitchen/quarter_potion.png",
                    "actions": [
                        {
                            "giveItem": "quarter_potion",
                            "removeObject": "quarter_potion",
                            "say": "Mesacny lektvar."
                        }
                    ]
                }
            },
            "actions": [
                {
                    "trigger": "#FF0000",
                    "goto": "observatory_middle"
                },
                {
                    "trigger": "#00FF00",
                    "say": "Voda netecie ale dalo by sa sem nieco vyliat."
                },
                {
                    "trigger": "#00FF00",
                    "item": "full_whisky_a",
                    "guards": [
                        {
                            "hasItem": "full_whisky_b"
                        }
                    ],
                    "giveItem": "empty_whisky",
                    "takeItem": "full_whisky_a",
                    "say": "Skoda, ale aspon mi ostala flasa."
                },
                {
                    "trigger": "#00FF00",
                    "item": "full_whisky_b",
                    "guards": [
                        {
                            "hasItem": "full_whisky_a"
                        }
                    ],
                    "giveItem": "empty_whisky",
                    "takeItem": "full_whisky_b",
                    "say": "Skoda, ale aspon mi ostala flasa."
                },
                {
                    "trigger": "#00FF00",
                    "item": "full_whisky_a",
                    "say": "To urcite nevylejem, mam len jednu."
                },
                {
                    "trigger": "#00FF00",
                    "item": "full_whisky_b",
                    "say": "To urcite nevylejem, mam len jednu."
                },
                {
                    "trigger": "#00FF00",
                    "item": "empty_whisky",
                    "say": "To uz je prazdne a voda netecie."
                }
            ]
        },
        "telescope_empty": {
            "background": "telescope/empty.png",
            "zones": "telescope/zones.png",
            "enterAction": {
                "say": "Hmm nic zaujimave, musim sa rozhliadnut."
            },
            "actions": [
                {
                    "trigger": "#FF0000",
                    "goto": "telescope_moon"
                },
                {
                    "trigger": "#00FF00",
                    "goto": "telescope_planet"
                },
                {
                    "trigger": "#0000FF",
                    "goto": "telescope_comet"
                },
                {
                    "trigger": "#FF00FF",
                    "goto": "observatory_left"
                }
            ]
        },
        "telescope_moon": {
            "background": "telescope/moon.png",
            "zones": "telescope/zones.png",
            "objects": {
                "zapberry": {
                    "image": "telescope/moon_zapberry.png",
                    "actions": [
                        {
                            "giveItem": "zapberry",
                            "removeObject": "zapberry",
                            "say": "Mesacne elektricke ovocie."
                        }
                    ]
                }
            },
            "actions": [
                {
                    "trigger": "#FF0000",
                    "goto": "telescope_planet"
                },
                {
                    "trigger": "#00FF00",
                    "goto": "telescope_empty"
                },
                {
                    "trigger": "#0000FF",
                    "goto": "telescope_comet"
                },
                {
                    "trigger": "#FF00FF",
                    "goto": "observatory_left"
                }
            ]
        },
        "telescope_planet": {
            "background": "telescope/planet.png",
            "zones": "telescope/zones.png",
            "enterAction": {
                "say": "Haha, chudaci maju aku malu planetu"
            },
            "objects": {
                "upberry": {
                    "image": "telescope/planet_upberry.png",
                    "actions": [
                        {
                            "giveItem": "upberry",
                            "removeObject": "upberry",
                            "say": "Ovocie z inych planet je najchutnejsie."
                        }
                    ]
                }
            },
            "actions": [
                {
                    "trigger": "#FF0000",
                    "goto": "telescope_empty"
                },
                {
                    "trigger": "#00FF00",
                    "goto": "telescope_moon"
                },
                {
                    "trigger": "#0000FF",
                    "goto": "telescope_comet"
                },
                {
                    "trigger": "#FF00FF",
                    "goto": "observatory_left"
                }
            ]
        },
        "telescope_comet": {
            "background": "telescope/comet.png",
            "zones": "telescope/zones.png",
            "enterAction": {
                "say": "AAAAh! To sa ruti rovno na nas!",
                "setFlag": "seen_comet"
            },
            "actions": [
                {
                    "trigger": "#FF0000",
                    "goto": "telescope_moon"
                },
                {
                    "trigger": "#00FF00",
                    "goto": "telescope_planet"
                },
                {
                    "trigger": "#0000FF",
                    "say": "Vyssie sa to neda posunut."
                },
                {
                    "trigger": "#FF00FF",
                    "goto": "telescope_empty"
                }
            ]
        },
        "observatory_exterior": {
            "background": "observatory_exterior/background.png",
            "zones": "observatory_exterior/zones.png"
        }
    }
}